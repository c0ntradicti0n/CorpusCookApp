
<ManipulationRecycleViewRow>:
    orientation: 'vertical'
    size_hint_y: 2
    GridLayout:
        rows: 1
        cols: 2
        InfoLabel:
            font_size: (25 if root.length < 130  else  (130/root.length)**0.5 * 30)
            text: root.kind
        AnnotationCheckBox:
            id : active_or_not
            active: root.able
    AnnotationSlider:
        id: start
        min: 0
        max: root.length
        value: root.start
        step: 1
        orientation: 'horizontal'
    AnnotationSlider:
        id: end
        min: 0
        max: root.length
        value: root.end
        step: 1
        orientation: 'horizontal'
        height: self.parent.height
        width: self.parent.height


<AnnotationManipulationRow>:
    orientation: 'horizontal'
    InfoLabel:
        text: root.kind
        font_size: 20
        height: self.parent.height
        width: self.parent.height
    AnnotationManipulationButton:
        text: "+"
        font_size: 20
        on_press: root.more_annotation_of(root.kind)
        height: self.parent.height
        width: self.parent.height
    AnnotationManipulationButton:
        text: "-"
        font_size: 20
        on_press: root.less_annotation_of(root.kind)
        height: self.parent.height
        width: self.parent.height

<SliderView>:
    scroll_type: ['bars']
    bar_width: 25
    viewclass: 'ManipulationRecycleViewRow'
    RecycleBoxLayout:
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'

<AnnotationManipulationView>:
    viewclass: 'AnnotationManipulationRow'
    RecycleGridLayout:
        rows:2
        cols:3
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'horizontal'

<Manipulation_Screen>:
    GridLayout:
        rows:16
        cols:1
        ScrollView:
            size_hint_y: 6
            InfoLabel:
                halign: "center"
                valign: "middle"
                markup: True
                size_hint_y: 1
                text_size: self.size
                font_size: 20 if len(root.manager.final_version) < 130 else  (130/len(root.manager.final_version))**0.5 * 40 #
                multiline: True
                id: sample
                text: "sample"
        SliderView:
            id: spansliderview
            size_hint_y: 6.5
            data: [{'text':'a', 'id':'0'}, {'text':'b', 'id':'1'}]
        AnnotationManipulationView:
            id: annotationmanipulationview
            size_hint_y: 1
            data: [{'kind': 'CONTRAST'}, {'kind':'SUBJECT'},  {'kind':'ASPECT'}]
        BoxLayout:
            InfoLabel:
                text: ""
            NavButton:
                text: "from here"
                on_press: root.manager.annotation_from_here()
                background_normal: "./images/from_here.png"
                height: self.parent.height
                width: self.parent.height
            NavButton:
                text: "in between"
                on_press: root.manager.annotation_in_between()
                background_normal: "./images/between.png"
                height: self.parent.height
                width: self.parent.height
            NavButton:
                text: "ok"
                on_press: root.manager.ok()
                background_normal: "./images/annotate_icon.png"
                height: self.parent.height
                width: self.parent.height
            NavButton:
                text: "trash"
                background_normal: "./images/ignore.jpg"
                on_press: root.manager.shit()
                height: self.parent.height
                width: self.parent.height
            InfoLabel:
                text: ""


